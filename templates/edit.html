{% extends 'layout.html' %}
{% block content %}

<form class="form-horizontal" method="post">
  <fieldset>
    <legend>Edit person</legend>

    {%- for name in mk.children_order(person) %}
      {% set field = person[name] %}

      {% set error_cls = 'error' if field.errors else '' %}
      <div class="control-group {{ error_cls }}">
        {{ mk.label(field,
                    class='control-label',
                    contents=field.properties.label) }}
        <div class="controls">
          {{ mk.widget(field) }}
        {% for message in field.errors %}
          <span class="help-inline">{{ message }}</span>
        {% endfor %}
        </div>
      </div>

    {%- endfor %}

    <div class="form-actions">
      <button type="submit" class="btn btn-primary">Save</button>
    </div>

  </fieldset>
</form>

{% endblock %}
